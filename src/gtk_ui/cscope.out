cscope 15 $HOME/myshell/src/gtk_ui               0000006941
	@example/box.c

5 
	~<gtk/gtk.h
>

8 
	$cb_bu‰Ú
(
GtkWidg‘
 *
widg‘
, 
gpoš‹r
 
d©a
)

10 
	`g_´št
("ä½ å•å‡»äº†æŒ‰é’®\n");

11 
	`gtk_maš_qu™
();

12 
	}
}

14 
	$maš
(
¬gc
, *
¬gv
[])

16 
GtkWidg‘
 *
maš_wšdow
;

17 
GtkWidg‘
 *
hbox
, *
bu‰Ú
, *
ed™Ü
;

19 
	`gtk_š™
(&
¬gc
, &
¬gv
);

21 
maš_wšdow
 = 
	`gtk_wšdow_Ãw
(
GTK_WINDOW_TOPLEVEL
);

22 
	`g_sigÇl_cÚÃù
(
	`G_OBJECT
(
maš_wšdow
), "de¡roy",
	`G_CALLBACK
(
gtk_maš_qu™
), 
NULL
);

23 
	`gtk_wšdow_£t_t™Ë
(
	`GTK_WINDOW
(
maš_wšdow
),"Myshell");

24 
	`gtk_wšdow_£t_deçuÉ_size
(
	`GTK_WINDOW
(
maš_wšdow
),400,250);

25 
bu‰Ú
 = 
	`gtk_bu‰Ú_Ãw_w™h_Ïb–
("é€€å‡ºç¨‹åº");

26 
	`g_sigÇl_cÚÃù
(
	`G_OBJECT
(
bu‰Ú
), "şicked",
	`G_CALLBACK
(
cb_bu‰Ú
),
NULL
);

27 
ed™Ü
 = 
	`gtk_’Œy_Ãw
();

28 
hbox
 = 
	`gtk_hbox_Ãw
(
FALSE
, 30);

29 
	`gtk_box_·ck_¡¬t
(
	`GTK_BOX
(
hbox
), 
ed™Ü
, 
TRUE
, TRUE, 10);

30 
	`gtk_box_·ck_¡¬t
(
	`GTK_BOX
(
hbox
), 
bu‰Ú
, 
FALSE
, FALSE, 10);

31 
	`gtk_cÚš”_add
(
	`GTK_CONTAINER
(
maš_wšdow
), 
hbox
);

32 
	`gtk_widg‘_show_®l
(
maš_wšdow
);

33 
	`gtk_maš
();

35 
	}
}

	@example/button.c

4 
	~<gtk/gtk.h
>

6 
	$cb_bu‰Ú
(
GtkWidg‘
 *
widg‘
, 
gpoš‹r
 
d©a
)

8 
	`gtk_maš_qu™
();

9 
	}
}

11 
	$maš
(
¬gc
, *
¬gv
[])

13 
GtkWidg‘
 *
maš_wšdow
;

14 
GtkWidg‘
 *
bu‰Ú
;

16 
	`gtk_š™
(&
¬gc
, &
¬gv
);

17 
maš_wšdow
 = 
	`gtk_wšdow_Ãw
(
GTK_WINDOW_TOPLEVEL
);

18 
	`gtk_wšdow_£t_t™Ë
(
	`GTK_WINDOW
(
maš_wšdow
),"Hello,ubuntu2!");

20 
	`gtk_wšdow_£t_deçuÉ_size
(
	`GTK_WINDOW
(
maš_wšdow
),200,50);

21 
bu‰Ú
 = 
	`gtk_bu‰Ú_Ãw_w™h_Ïb–
("é€€å‡ºç¨‹åº");

22 
	`gtk_cÚš”_add
(
	`GTK_CONTAINER
(
maš_wšdow
), 
bu‰Ú
);

24 
	`g_sigÇl_cÚÃù
(
	`G_OBJECT
(
bu‰Ú
), "şicked",
	`G_CALLBACK
(
cb_bu‰Ú
),
NULL
);

25 
	`g_sigÇl_cÚÃù
(
	`G_OBJECT
(
maš_wšdow
), "de¡roy", 
	`G_CALLBACK
(
cb_bu‰Ú
), 
NULL
);

27 
	`gtk_widg‘_show
(
bu‰Ú
);

28 
	`gtk_widg‘_show
(
maš_wšdow
);

30 
	`gtk_maš
();

32 
	}
}

	@example/example_windows.c

1 
	~<gtk/gtk.h
>

3 
	$h–lo
(
GtkWidg‘
 *
widg‘
,
gpoš‹r
 
d©a
)

5 
	`g_´št
("Hello Ubuntu!\n");

6 
	}
}

9 
gšt
 
	$d–‘e_ev’t
(
GtkWidg‘
 *
widg‘
,
GdkEv’t
 *
ev’t
,
gpoš‹r
 
d©a
)

11 
	`g_´št
 ("deleteƒvent occurred\n");

12 (
TRUE
);

13 
	}
}

16 
	$de¡roy
(
GtkWidg‘
 *
widg‘
,
gpoš‹r
 
d©a
)

18 
	`gtk_maš_qu™
();

19 
	}
}

22 
	$maš
Ğ
¬gc
, *
¬gv
[] )

24 
GtkWidg‘
 *
wšdow
;

25 
GtkWidg‘
 *
bu‰Ú
;

26 
	`gtk_š™
 (&
¬gc
, &
¬gv
);

27 
wšdow
=
	`gtk_wšdow_Ãw
 (
GTK_WINDOW_TOPLEVEL
);

28 
	`gtk_sigÇl_cÚÃù
 (
	`GTK_OBJECT
(
wšdow
),"d–‘e_ev’t",
	`GTK_SIGNAL_FUNC
(
d–‘e_ev’t
),
NULL
);

29 
	`gtk_sigÇl_cÚÃù
 (
	`GTK_OBJECT
 (
wšdow
), "de¡roy",
	`GTK_SIGNAL_FUNC
 (
de¡roy
), 
NULL
);

30 
	`gtk_cÚš”_£t_bÜd”_width
 (
	`GTK_CONTAINER
 (
wšdow
), 10);

31 
bu‰Ú
 = 
	`gtk_bu‰Ú_Ãw_w™h_Ïb–
 ("Hello Ubuntu!");

32 
	`gtk_sigÇl_cÚÃù
 (
	`GTK_OBJECT
 (
bu‰Ú
), "şicked",
	`GTK_SIGNAL_FUNC
 (
h–lo
), 
NULL
);

33 
	`gtk_sigÇl_cÚÃù_objeù
 (
	`GTK_OBJECT
 (
bu‰Ú
), "şicked",
	`GTK_SIGNAL_FUNC
 (
gtk_widg‘_de¡roy
),GTK_OBJECT (
wšdow
));

34 
	`gtk_cÚš”_add
 (
	`GTK_CONTAINER
 (
wšdow
), 
bu‰Ú
);

35 
	`gtk_widg‘_show
 (
bu‰Ú
);

36 
	`gtk_widg‘_show
 (
wšdow
);

37 
	`gtk_maš
();

39 
	}
}

	@mainWindow.c

9 
	~<gtk/gtk.h
>

10 
	~<gdk/gdkkeysyms.h
>

11 
	~"../sh–l/ev®.h
"

12 
	~"../sh–l/sh–l.h
"

16 
’‹r_¡ršg
(
GtkWidg‘
 *
widg‘
);

17 
de¡roy
(
GtkWidg‘
 *
widg‘
, 
gpoš‹r
 
d©a
);

19 
	$maš
(
¬gc
, *
¬gv
[])

21 
GtkWidg‘
 *
maš_wšdow
;

22 
GtkWidg‘
 *
‹xt_v›w
;

23 
GtkWidg‘
 *
süŞËd_wšdow
;

24 
GtkWidg‘
 *
v_box
;

25 
GtkWidg‘
 *
m’u_vbox
;

26 
GtkWidg‘
 *
m’ub¬
;

27 
GtkWidg‘
 *
fem’u
;

28 
GtkWidg‘
 *
Ãw
;

29 
GtkWidg‘
 *
fe
;

30 
GtkWidg‘
 *
qu™
;

31 
GtkWidg‘
 *
£p
;

32 
GtkWidg‘
 *
İtiÚ
;

33 
GtkWidg‘
 *
ed™
;

34 
GtkWidg‘
 *
h–p
;

38 
GtkAcûlGroup
 *
acûl_group
 = 
NULL
;

40 
	`gtk_š™
(&
¬gc
, &
¬gv
);

43 
maš_wšdow
 = 
	`gtk_wšdow_Ãw
(
GTK_WINDOW_TOPLEVEL
);

46 
	`gtk_sigÇl_cÚÃù
(
	`GTK_OBJECT
(
maš_wšdow
), "destroy",

47 
	`G_CALLBACK
(
de¡roy
), 
NULL
);

48 
	`gtk_wšdow_£t_t™Ë
(
	`GTK_WINDOW
(
maš_wšdow
), "Myshell");

49 
	`gtk_wšdow_£t_pos™iÚ
(
	`GTK_WINDOW
(
maš_wšdow
), 
GTK_WIN_POS_CENTER
);

50 
	`gtk_wšdow_£t_deçuÉ_size
(
	`GTK_WINDOW
(
maš_wšdow
), 730, 533);

51 
	`gtk_cÚš”_£t_bÜd”_width
(
	`GTK_CONTAINER
(
maš_wšdow
), 5);

52 
	`GTK_WINDOW
(
maš_wšdow
)->
®low_shršk
 = 
TRUE
;

55 
m’u_vbox
 = 
	`gtk_vbox_Ãw
(
FALSE
, 0);

56 
	`gtk_cÚš”_add
(
	`GTK_CONTAINER
(
maš_wšdow
), 
m’u_vbox
);

58 
m’ub¬
 = 
	`gtk_m’u_b¬_Ãw
();

59 
fem’u
 = 
	`gtk_m’u_Ãw
();

62 
acûl_group
 = 
	`gtk_acûl_group_Ãw
();

63 
	`gtk_wšdow_add_acûl_group
(
	`GTK_WINDOW
(
maš_wšdow
), 
acûl_group
);

66 
fe
 = 
	`gtk_m’u_™em_Ãw_w™h_mÃmÚic
("_File");

67 
ed™
 = 
	`gtk_m’u_™em_Ãw_w™h_mÃmÚic
("_Edit");

68 
İtiÚ
 = 
	`gtk_m’u_™em_Ãw_w™h_mÃmÚic
("_Option");

69 
h–p
 = 
	`gtk_m’u_™em_Ãw_w™h_mÃmÚic
("_Help");

70 
Ãw
 = 
	`gtk_image_m’u_™em_Ãw_äom_¡ock
(
GTK_STOCK_NEW
, 
NULL
);

72 
qu™
 = 
	`gtk_image_m’u_™em_Ãw_äom_¡ock
(
GTK_STOCK_QUIT
, 
acûl_group
);

75 
£p
 = 
	`gtk_£·¿tÜ_m’u_™em_Ãw
();

82 
	`gtk_widg‘_add_acûË¿tÜ
(
qu™
, "aùiv©e", 
acûl_group
,

83 
GDK_q
, 
GDK_CONTROL_MASK
, 
GTK_ACCEL_VISIBLE
);

86 
	`gtk_m’u_™em_£t_subm’u
(
	`GTK_MENU_ITEM
(
fe
), 
fem’u
);

89 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
fem’u
), 
Ãw
);

90 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
fem’u
), 
qu™
);

91 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
fem’u
), 
£p
);

92 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
m’ub¬
), 
fe
);

93 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
m’ub¬
), 
ed™
);

94 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
m’ub¬
), 
İtiÚ
);

95 
	`gtk_m’u_sh–l_­³nd
(
	`GTK_MENU_SHELL
(
m’ub¬
), 
h–p
);

96 
	`gtk_box_·ck_¡¬t
(
	`GTK_BOX
(
m’u_vbox
), 
m’ub¬
, 
FALSE
, FALSE, 3);

100 
	`g_sigÇl_cÚÃù
(
	`G_OBJECT
(
qu™
), "activate",

101 
	`G_CALLBACK
(
de¡roy
), 
NULL
);

107 
süŞËd_wšdow
 = 
	`gtk_süŞËd_wšdow_Ãw
(
NULL
, NULL);

108 
‹xt_v›w
 = 
	`gtk_‹xt_v›w_Ãw
();

117 
	`gtk_cÚš”_add
(
	`GTK_CONTAINER
(
süŞËd_wšdow
), 
‹xt_v›w
);

118 
v_box
 = 
	`gtk_vbox_Ãw
(
FALSE
, 5);

119 
	`gtk_box_·ck_¡¬t
(
	`GTK_BOX
(
m’u_vbox
), 
süŞËd_wšdow
, 
TRUE
, TRUE, 5);

125 
	`gtk_widg‘_show_®l
(
maš_wšdow
);

126 
	`gtk_maš
();

129 
	}
}

132 
	$’‹r_¡ršg
(
GtkWidg‘
 *
buf
)

140 
	}
}

143 
	$de¡roy
(
GtkWidg‘
 *
widg‘
, 
gpoš‹r
 
d©a
)

145 
	`g_´št
("\nended...\n");

146 
	`gtk_maš_qu™
();

147 
	}
}

	@../shell/eval.h

19 #iâdeà
__EVAL_H__


20 
	#__EVAL_H__


	)

22 
	#BUFSIZE
 128

	)

24 * 
ü—‹_¡r
(*
begš
, 
Ën
);

26 **
¥še
(*
cmdlše
);

28 * 
»ad_commªd
(
FILE
 *
å
);

30 
çl
(*
¡r_”r
, *
¡r_”rÜ
, 
ex™_code
);

32 
ä“_li¡
(**
li¡
);

	@../shell/shell.h

21 #iâdeà
__SHELL_H__


22 
	#__SHELL_H__


	)

24 
	#MAX_ARGS
 50

	)

25 
	#ARG_LEN
 100

	)

28 
Proûss
(**
šput
);

30 
Sh–l_Maš
(*
commªd_lše
);

31 
Execu‹
(*
¬gv
[]);

32 
çl
(*
¡r_”r
, *
¡r_”rÜ
, 
ex™_code
);

	@
1
.
1
/usr/include
6
103
example/box.c
example/button.c
example/example_windows.c
mainWindow.c
../shell/eval.h
../shell/shell.h
